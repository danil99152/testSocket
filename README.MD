# Тестирование вебсокетов
## Описание проекта
1. Сервер должен слушать порт 5000 на локальном интерфейсе 127.0.0.1
2. Сервер должен принимать и отправлять данные в формате JSON
3. При получении данных сервер должен провалидировать JSON и проверить наличие обязательных параметров
4. В зависимости от результата обработки запроса сервер должен вернуть ответ с кодом 200, 400 или 500
5. При получении запроса с action = "session_update" и connected = False сервер должен подождать 30 секунд на повторное подключение, иначе создать файл /tmp/notifyDisconnect
6. При повторном подключении в течение 30 секунд создание файла отменяется
7. Для всех остальных запросов, кроме "session_update", сервер должен вернуть ошибку 400
## Описание принимаемых данных по сокету
В запросе JSON должны присутствовать следующие параметры:

1. `action` - строка, обязательный параметр
2. `connected` - булево значение, обязательный параметр
3. `detail` - строка, обязательный параметр
4. `status` - целое число, обязательный параметр

## Структура проекта
1. `main.py` - запуск сервера
2. `ws.py` - функционал работы вебсокета
3. `models.py` - набор валидирующих моделей (1 модель)
4. `requirements.txt` - список зависимостей
5. `settings.py` - файл с базывыми настройками как ip и port
6. `tmp/notifyDisconnect` - генерируемый файл для задачи

## Используемый стек
* Язык программирования: `Python 3.11.4`
* Основные фреймворки: `asyncio` и `websockets 11.0.3`
* Типизация и валидация данных: `pydantic 2.2.0`

## Запуск приложения
1. Создайте venv: `python -m venv /path/to/core/venv` либо через IDE
(хотя можно и глобально, но не желательно)
2. Запустите команду установки зависимостей: `python pip install -r requirements.txt`
3. Запустите приложение: `python main.py`